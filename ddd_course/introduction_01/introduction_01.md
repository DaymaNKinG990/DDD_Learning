# Модуль 1: Введение в DDD

В этом модуле мы заложим фундамент для нашего путешествия в мир Предметно-Ориентированного Проектирования. Мы разберемся, что такое DDD, для решения каких проблем он предназначен, и познакомимся с его ключевыми концепциями.

---

## Урок 1.1: Что такое Предметно-Ориентированное Проектирование (DDD)?

**Предметно-Ориентированное Проектирование (Domain-Driven Design, DDD)** — это не конкретная технология или фреймворк, а подход, методология к разработке сложного программного обеспечения. Главная идея DDD заключается в том, чтобы основное внимание при проектировании системы уделять её предметной области (бизнес-домену) и логике.

### Проблемы сложной бизнес-логики

В многих проектах сложность заключается не в технических аспектах (базы данных, API), а в самой бизнес-логике. Например:
- Расчет стоимости страховки с учетом десятков факторов.
- Управление логистической цепочкой поставок.
- Обработка финансовых транзакций в соответствии с законодательством.

Традиционные подходы, где логика размазана по разным слоям приложения, часто приводят к созданию запутанного, хрупкого и трудного для понимания кода, который называют "Большой комок грязи" (Big Ball of Mud).

### Цели и преимущества DDD

DDD стремится решить эти проблемы, предлагая:

1.  **Фокус на домене:** Главное внимание уделяется основной деятельности бизнеса, его правилам и процессам.
2.  **Общий язык (Ubiquitous Language):** Создание единого, общего языка для общения между разработчиками, бизнес-экспертами, менеджерами и всеми участниками проекта. Этот язык используется как в обсуждениях, так и непосредственно в коде.
3.  **Явная модель домена:** Код становится прямым отражением бизнес-модели. Это делает систему более понятной и предсказуемой.
4.  **Итеративный процесс:** Модель и язык постоянно уточняются и улучшаются в процессе тесного сотрудничества команды разработки и экспертов предметной области.

**Преимущества:**
- Более тесное и продуктивное взаимодействие с бизнесом.
- Код, который легче понимать, поддерживать и развивать.
- Лучшая адаптация к изменениям бизнес-требований.
- Четкое разделение ответственности в коде.

### Когда DDD не нужен?

DDD — это мощный, но не универсальный инструмент. Его применение требует дополнительных усилий и времени. Не стоит использовать DDD, если:
- **Проект технически сложен, но бизнес-логика проста:** Например, простое CRUD-приложение (Create, Read, Update, Delete).
- **Проект является прототипом или MVP:** Где главная цель — быстрая проверка гипотезы, а не создание долгосрочного решения.
- **Сроки проекта очень сжаты:** DDD требует времени на исследование домена и построение модели.
- **Команда не готова к тесному сотрудничеству с бизнесом** или не имеет доступа к экспертам предметной области.
- **Проекты, где основная сложность лежит в интеграции с большим количеством внешних систем, а собственная бизнес-логика минимальна.**

---

## Урок 1.2: Ключевые концепции DDD (обзорно)

DDD делится на два основных направления: **стратегическое** и **тактическое** проектирование.

### Стратегическое проектирование

Помогает понять и организовать большую и сложную предметную область. Это взгляд на систему с высоты птичьего полета.

- **Предметная область (Domain):** То, чем занимается бизнес. Например, "электронная коммерция", "банковское дело".
- **Поддомены (Subdomains):** Логические части предметной области. Например, в "электронной коммерции" можно выделить поддомены "Каталог товаров", "Корзина", "Оформление заказов", "Склад".
- **Ограниченный Контекст (Bounded Context):** Явная граница, внутри которой каждая концепция и термин имеют одно, четко определенное значение. Например, в контексте "Продажи" `Товар` может иметь цену и скидку, а в контексте "Склад" тот же `Товар` будет характеризоваться весом, габаритами и местом на полке.
- **Карта Контекстов (Context Map):** Схема, показывающая, как разные Ограниченные Контексты взаимодействуют друг с другом.

Проиллюстрируем это простой схемой:

```
+----------------------------------------------------+
|                DOMAIN: E-COMMERCE                  |
|                                                    |
| +------------------+    +------------------------+ |
| | BOUNDED CONTEXT: |    |   BOUNDED CONTEXT:     | |
| |     SALES        |    |      INVENTORY         | |
| | (Subdomain:      |    | (Subdomain: Warehouse) | |
| |  Orders, Cart)   |    |                        | |
| |                  |    | - Product (weight)     | |
| | - Product (price)|    | - Location             | |
| +------------------+    +------------------------+ |
|                                                    |
+----------------------------------------------------+
```

*Примечание: Это очень упрощенная схема. Реальные Карты Контекстов могут быть значительно сложнее и включать описание типов взаимосвязей между контекстами (например, "Партнерство", "Общее ядро", "Антикоррупционный слой" и т.д.). Эти аспекты будут рассмотрены подробнее в модуле, посвященном стратегическому проектированию.*

### Тактическое проектирование

Предоставляет набор "строительных блоков" для создания детальной модели внутри одного Ограниченного Контекста.
- **Сущности (Entities):** Объекты, обладающие уникальной идентичностью, которая сохраняется на протяжении всего их жизненного цикла (например, `Пользователь`, `Заказ`).
- **Объекты-Значения (Value Objects):** Объекты, которые описывают какую-то характеристику и определяются своими атрибутами, а не идентичностью (например, `Адрес`, `Сумма денег`). Они неизменяемы.
- **Агрегаты (Aggregates):** Кластер из одной или нескольких Сущностей и Объектов-Значений, который рассматривается как единое целое для целей изменения данных. Управляется через корневой объект (Aggregate Root).
- **Репозитории (Repositories):** Абстракция для хранения и извлечения Агрегатов, имитирующая коллекцию объектов в памяти.
- **Сервисы (Services):** Содержат операции, которые не принадлежат ни одному объекту (Сущности или Объекту-Значению).
- **Доменные События (Domain Events):** Информируют другие части системы о том, что в предметной области произошло что-то важное.

---

## Урок 1.3: Структура курса и как с ним работать

Наш курс построен по модульному принципу. Каждый модуль посвящен одной из ключевых концепций DDD и имеет следующую структуру:

1.  **Теория (`..._01.md`):** Подробное описание концепции, ее назначения и принципов.
2.  **Пример кода (`..._02.md`):** Страница с практической реализацией на Python, демонстрирующая теорию в действии. Сам код находится в `.py` файле, но для удобства просмотра в документации он встроен в Markdown-файл.
3.  **Квиз (`..._03.md`):** Вопросы для самопроверки усвоенного материала.
4.  **Ответы на квиз (`..._04.md`):** Пояснения к вопросам квиза.
5.  **Упражнение (`..._05.md`):** Практическое задание для закрепления навыков.
6.  **Решение упражнения (`..._06.md`):** Страница с примером реализации решения.
7.  **Тесты:** Код с тестами находится в соответствующей директории `tests/` и не отображается в документации напрямую, но доступен для изучения в исходном коде проекта. Тесты играют важную роль, проверяя корректность работы примеров кода и решений упражнений, обеспечивая их работоспособность и соответствие ожиданиям. Мы рекомендуем изучать и запускать их для лучшего понимания материала.

Рекомендуется проходить материалы последовательно, внимательно изучая теорию, разбирая код и выполняя все практические задания.

В следующих модулях мы подробно рассмотрим каждую из концепций, упомянутых в этом введении.
