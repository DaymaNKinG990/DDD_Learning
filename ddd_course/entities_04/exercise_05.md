# Упражнение по модулю "Сущности (Entities)"

## Задание: Разработка Сущности `OrderItem` (Позиция Заказа)

Представьте, что вы разрабатываете систему для интернет-магазина. Вам необходимо смоделировать Сущность `OrderItem`, которая представляет одну позицию (товар) в заказе клиента.

### Контекст:
- Каждая позиция заказа уникальна (даже если в одном заказе дважды добавлен один и тот же товар, это могут быть две разные позиции с разными скидками или заметками, или просто две отдельные записи).
- Цена товара (`Product`) может меняться со временем, но в `OrderItem` должна быть зафиксирована цена на момент добавления товара в заказ.

### Требования к Сущности `OrderItem`:

1.  **Идентичность:**
    *   `OrderItem` должна иметь уникальный идентификатор (например, `order_item_id` типа `uuid.UUID`).
    *   Реализуйте корректное сравнение (`__eq__`) и хеширование (`__hash__`) на основе этого идентификатора. Используйте базовый класс `Entity` из примера `entities_example_02.py` или создайте аналогичный.

2.  **Атрибуты:**
    *   `product_id: uuid.UUID` – идентификатор товара (`Product`), к которому относится эта позиция.
    *   `quantity: int` – количество единиц данного товара в этой позиции заказа. Должно быть положительным числом.
    *   `price_at_purchase: Decimal` – цена за единицу товара, зафиксированная на момент добавления в заказ. Должна быть положительной.

3.  **Поведение (Методы):**
    *   Конструктор `__init__` должен принимать все необходимые атрибуты и проводить их валидацию (например, `quantity > 0`, `price_at_purchase > 0`).
    *   Метод `get_total_price() -> Decimal`: должен рассчитывать и возвращать общую стоимость данной позиции заказа (`quantity * price_at_purchase`).
    *   Метод `update_quantity(new_quantity: int)`: позволяет изменить количество товара в позиции. Должен валидировать `new_quantity` (должно быть > 0).

4.  **Представление:**
    *   Реализуйте метод `__repr__` для удобного отображения информации об объекте `OrderItem`.

### Задачи для выполнения:

1.  Напишите класс `OrderItem`, следуя указанным требованиям.
2.  Продемонстрируйте создание нескольких экземпляров `OrderItem`.
3.  Продемонстрируйте использование методов `get_total_price()` и `update_quantity()`.
4.  Проверьте корректность сравнения двух разных экземпляров `OrderItem` с одинаковым ID и двух экземпляров с разными ID.

### Критерии оценки (примерные):
- Корректная реализация идентификации Сущности.
- Наличие всех требуемых атрибутов с правильными типами.
- Валидация входных данных в конструкторе и методах.
- Корректная реализация методов `get_total_price()` и `update_quantity()`.
- Читаемый и хорошо документированный код (docstrings, type hints).

### Бонусное задание (опционально):
- Подумайте, какие еще атрибуты или методы могли бы быть полезны для `OrderItem` (например, скидка на позицию, статус позиции).
- Как бы вы связали `OrderItem` с Сущностью `Order` (Заказ)? (Это тема для будущих модулей, но можно поразмышлять).
